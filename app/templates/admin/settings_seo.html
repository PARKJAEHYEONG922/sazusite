{% extends "layout/admin_base.html" %}

{% block title %}SEO & ìŠ¤í¬ë¦½íŠ¸ ì„¤ì • - ê´€ë¦¬ì{% endblock %}

{% block page_title %}SEO & ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •{% endblock %}

{% block admin_content %}
<div class="admin-content">
    <div class="content-header">
        <h1>ğŸ” SEO & ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •</h1>
        <p>ê²€ìƒ‰ì—”ì§„ ìµœì í™” ë° ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ê´€ë¦¬</p>
    </div>

    {% if success %}
    <div class="alert alert-success">
        {{ success }}
    </div>
    {% endif %}

    {% if error %}
    <div class="alert alert-error">
        {{ error }}
    </div>
    {% endif %}

    <form method="post" action="/admin/settings/seo" enctype="multipart/form-data">
        <!-- SEO ë©”íƒ€íƒœê·¸ ì„¹ì…˜ -->
        <div class="settings-section">
            <h2>ğŸ“Š SEO ë©”íƒ€íƒœê·¸</h2>
            <p class="section-description">ê²€ìƒ‰ì—”ì§„ ë…¸ì¶œì„ ìœ„í•œ ê¸°ë³¸ ë©”íƒ€íƒœê·¸ë¥¼ ì„¤ì •í•˜ì„¸ìš”. ê° í˜ì´ì§€ì—ì„œ ê°œë³„ ì„¤ì •ì´ ì—†ì„ ê²½ìš° ì´ ê°’ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>

            <div class="form-group">
                <label>ê¸°ë³¸ SEO íƒ€ì´í‹€</label>
                <input type="text" name="seo_title" value="{{ config.seo_title if config and config.seo_title else 'ëª…ì›”í—Œ - ì „í†µ ì‚¬ì£¼íŒ”ì, ì‹ ë…„ìš´ì„¸, ê¶í•©, ê¿ˆí•´ëª½' }}" maxlength="200">
                <p class="info-text">ê²€ìƒ‰ ê²°ê³¼ì— í‘œì‹œë  ê¸°ë³¸ íƒ€ì´í‹€ (50-60ì ê¶Œì¥)</p>
            </div>

            <div class="form-group">
                <label>ê¸°ë³¸ SEO ì„¤ëª… (Description)</label>
                <textarea name="seo_description" rows="3" maxlength="500">{{ config.seo_description if config and config.seo_description else 'ëª…ì›”í—Œ - ì „í†µ ì‚¬ì£¼íŒ”ì, 2026ë…„ ì‹ ë…„ìš´ì„¸, ê¶í•©, ì˜¤ëŠ˜ì˜ ìš´ì„¸, ê¿ˆí•´ëª½ê¹Œì§€. 30ë…„ ê²½ë ¥ ëª…ë¦¬í•™ìì˜ ì •í™•í•œ ìš´ì„¸ í’€ì´ë¥¼ AIë¡œ ë§Œë‚˜ë³´ì„¸ìš”.' }}</textarea>
                <p class="info-text">ê²€ìƒ‰ ê²°ê³¼ì— í‘œì‹œë  ì„¤ëª… (150-160ì ê¶Œì¥)</p>
            </div>

            <div class="form-group">
                <label>ê¸°ë³¸ SEO í‚¤ì›Œë“œ (Keywords)</label>
                <input type="text" name="seo_keywords" value="{{ config.seo_keywords if config and config.seo_keywords else 'ì‚¬ì£¼, ì‚¬ì£¼íŒ”ì, ì‹ ë…„ìš´ì„¸, 2026ë…„ ìš´ì„¸, ê¶í•©, ê¿ˆí•´ëª½, ì˜¤ëŠ˜ì˜ ìš´ì„¸, ëª…ë¦¬í•™, ìš´ì„¸, ë¬´ë£Œìš´ì„¸, íƒ€ë¡œ' }}">
                <p class="info-text">ì‰¼í‘œë¡œ êµ¬ë¶„ëœ í‚¤ì›Œë“œ (10-15ê°œ ê¶Œì¥)</p>
            </div>

            <div class="form-group">
                <label>ì €ì (Author)</label>
                <input type="text" name="seo_author" value="{{ config.seo_author if config and config.seo_author else 'ëª…ì›”í—Œ' }}" maxlength="100">
                <p class="info-text">ì‚¬ì´íŠ¸ ìš´ì˜ì ë˜ëŠ” íšŒì‚¬ëª…</p>
            </div>

            <div class="form-group">
                <label>ê¸°ë³¸ OG ì´ë¯¸ì§€ (ì†Œì…œ ê³µìœ ìš©)</label>
                <input type="file" name="seo_og_image_file" accept="image/*">
                {% if config and config.seo_og_image %}
                <div style="margin-top: 10px;">
                    <img src="{{ config.seo_og_image }}" alt="OG ì´ë¯¸ì§€" style="max-width: 300px; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <p class="info-text">í˜„ì¬ OG ì´ë¯¸ì§€ (ì¹´ì¹´ì˜¤í†¡, í˜ì´ìŠ¤ë¶ ê³µìœ  ì‹œ í‘œì‹œ)</p>
                </div>
                {% endif %}
                <p class="info-text">ê¶Œì¥ í¬ê¸°: 1200x630px (2:1 ë¹„ìœ¨). ì¹´ì¹´ì˜¤í†¡, í˜ì´ìŠ¤ë¶ ë“± ì†Œì…œë¯¸ë””ì–´ ê³µìœ  ì‹œ í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        </div>

        <!-- í—¤ë” ìŠ¤í¬ë¦½íŠ¸ ì„¹ì…˜ -->
        <div class="settings-section">
            <h2>ğŸ“ í—¤ë” ìŠ¤í¬ë¦½íŠ¸ (&lt;head&gt;)</h2>
            <p class="section-description">Google Analytics, ë„¤ì´ë²„/ë‹¤ìŒ ì‚¬ì´íŠ¸ ì¸ì¦, Facebook Pixel ë“± &lt;head&gt; íƒœê·¸ ì•ˆì— ì‚½ì…í•  ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>

            <div class="form-group">
                <label>í—¤ë” ìŠ¤í¬ë¦½íŠ¸</label>
                <textarea name="header_script" rows="10" style="font-family: 'Courier New', monospace; font-size: 13px;">{{ config.header_script if config and config.header_script else '' }}</textarea>
                <p class="info-text">ì˜ˆì‹œ: Google Analytics, ë„¤ì´ë²„ ì›¹ë§ˆìŠ¤í„° ë„êµ¬ ì¸ì¦ ë©”íƒ€íƒœê·¸, Facebook Pixel ë“±</p>
                <details style="margin-top: 10px;">
                    <summary style="cursor: pointer; color: #4299e1; font-weight: 500;">ì˜ˆì‹œ ì½”ë“œ ë³´ê¸°</summary>
                    <pre style="background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 8px; margin-top: 10px; overflow-x: auto; font-size: 12px;"><!-- Google Analytics -->
&lt;script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"&gt;&lt;/script&gt;
&lt;script&gt;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
&lt;/script&gt;

<!-- ë„¤ì´ë²„ ì›¹ë§ˆìŠ¤í„° ë„êµ¬ -->
&lt;meta name="naver-site-verification" content="xxxxxxxxxxxxxxxxxxx" /&gt;

<!-- Facebook Pixel -->
&lt;script&gt;
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', 'YOUR_PIXEL_ID');
  fbq('track', 'PageView');
&lt;/script&gt;</pre>
                </details>
            </div>
        </div>

        <!-- í‘¸í„° ìŠ¤í¬ë¦½íŠ¸ ì„¹ì…˜ -->
        <div class="settings-section">
            <h2>ğŸ“ í‘¸í„° ìŠ¤í¬ë¦½íŠ¸ (&lt;/body&gt; ì „)</h2>
            <p class="section-description">ì±„íŒ… ìœ„ì ¯, ì¶”ê°€ íŠ¸ë˜í‚¹ ì½”ë“œ ë“± &lt;/body&gt; íƒœê·¸ ì§ì „ì— ì‚½ì…í•  ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>

            <div class="form-group">
                <label>í‘¸í„° ìŠ¤í¬ë¦½íŠ¸</label>
                <textarea name="footer_script" rows="10" style="font-family: 'Courier New', monospace; font-size: 13px;">{{ config.footer_script if config and config.footer_script else '' }}</textarea>
                <p class="info-text">ì˜ˆì‹œ: ì±„ë„í†¡, ì¹´ì¹´ì˜¤í†¡ ìƒë‹´, Hotjar ë“±</p>
                <details style="margin-top: 10px;">
                    <summary style="cursor: pointer; color: #4299e1; font-weight: 500;">ì˜ˆì‹œ ì½”ë“œ ë³´ê¸°</summary>
                    <pre style="background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 8px; margin-top: 10px; overflow-x: auto; font-size: 12px;"><!-- ì±„ë„í†¡ -->
&lt;script&gt;
  (function(){var w=window;if(w.ChannelIO){return w.console.error("ChannelIO script included twice.");}var ch=function(){ch.c(arguments);};ch.q=[];ch.c=function(args){ch.q.push(args);};w.ChannelIO=ch;function l(){if(w.ChannelIOInitialized){return;}w.ChannelIOInitialized=true;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src="https://cdn.channel.io/plugin/ch-plugin-web.js";var x=document.getElementsByTagName("script")[0];if(x.parentNode){x.parentNode.insertBefore(s,x);}}if(document.readyState==="complete"){l();}else{w.addEventListener("DOMContentLoaded",l);w.addEventListener("load",l);}})();
  ChannelIO('boot', {
    "pluginKey": "YOUR_PLUGIN_KEY"
  });
&lt;/script&gt;

<!-- Hotjar -->
&lt;script&gt;
  (function(h,o,t,j,a,r){
    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
    h._hjSettings={hjid:YOUR_SITE_ID,hjsv:6};
    a=o.getElementsByTagName('head')[0];
    r=o.createElement('script');r.async=1;
    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
    a.appendChild(r);
  })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
&lt;/script&gt;</pre>
                </details>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">ì €ì¥í•˜ê¸°</button>
        </div>
    </form>
</div>

<style>
.settings-section {
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    margin-bottom: 25px;
}

.settings-section h2 {
    font-size: 1.4rem;
    margin-bottom: 10px;
    color: #2d3748;
}

.section-description {
    color: #718096;
    margin-bottom: 25px;
    line-height: 1.6;
}

.form-group {
    margin-bottom: 25px;
}

.form-group label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px;
    color: #2d3748;
}

.form-group input[type="text"],
.form-group textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 14px;
    transition: border-color 0.2s;
}

.form-group input[type="text"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #4299e1;
    box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
}

.form-group input[type="file"] {
    padding: 10px;
    border: 2px dashed #e2e8f0;
    border-radius: 8px;
    background: #f7fafc;
    cursor: pointer;
    transition: all 0.2s;
}

.form-group input[type="file"]:hover {
    border-color: #4299e1;
    background: #ebf8ff;
}

.info-text {
    font-size: 13px;
    color: #718096;
    margin-top: 6px;
    line-height: 1.5;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    padding-top: 20px;
}

.btn {
    padding: 12px 30px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.alert {
    padding: 15px 20px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.alert-success {
    background: #c6f6d5;
    color: #22543d;
    border-left: 4px solid #38a169;
}

.alert-error {
    background: #fed7d7;
    color: #742a2a;
    border-left: 4px solid #e53e3e;
}
</style>
{% endblock %}
